{
  "html": "<p></p><div class=\"markdown-fragment\"><p>It can often be overwhelming to start working with a new starter project. If you provide us with some details about your project, we can generate a baseline configuration for you.</p>\n<p>The following properties are required for general project configuration:</p>\n<ul>\n<li><strong>Project Name</strong>: A name for this project.</li>\n<li><strong>Deployment</strong>: Choose if you want to use the configuration tool to configure production or development infrastructure. At this point, the configuration tool only supports definition of either production or development infrastructure. However, after you download your project, you can configure unlimited additional deployment configurations (for example if you choose to define development infrastructure now, you can define production infrastructure later).</li>\n<li><strong>AWS Region</strong>: The <a href=\"https://aws.amazon.com/about-aws/global-infrastructure/regions_az/#:~:text=AWS%20maintains%20multiple%20geographic%20Regions,Africa%2C%20and%20the%20Middle%20East.\" class=\"absolute\" target=\"_blank\" rel=\"noopener noreferrer\">AWS region</a> infrastructure for your project should be deployed to.</li>\n</ul></div><p></p>\n<h2 class=\"heading\"><span id=\"aws-configuration\"></span><a href=\"#aws-configuration\">AWS Configuration</a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></h2>\n<p></p><div class=\"markdown-fragment\"><p>Goldstack provides ready-made scripts to deploy your infrastructure to AWS. You can supply AWS credentials during project configuration that will be included in your download package. These, by default, will not be committed to source control.</p>\n<p>However, there are many other ways in which AWS user credentials can be supplied for Goldstack, so providing the details during project configuration is optional. It is only recommended to do so for development systems.</p>\n<p>If you do not know how to get the <em>Access Key ID</em> and <em>Secret Access Key</em>, please find <a href=\"https://docs.goldstack.party/docs/goldstack/configuration#how-to-get-aws-credentials\" class=\"absolute\" target=\"_blank\" rel=\"noopener noreferrer\">instructions here</a>.</p></div><p></p>\n<p></p><div class=\"markdown-fragment\"><h3 class=\"heading\"><span id=\"how-to-get-aws-credentials-1\"></span><a href=\"#how-to-get-aws-credentials-1\"><span id=\"how-to-get-aws-credentials\"></span><a href=\"#how-to-get-aws-credentials\" class=\"relative\">How to get AWS Credentials</a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></h3>\n<p>The easiest way to configure the AWS user for Goldstack to use is to do it during project setup by providing an <em>AWS Access Key Id</em> and <em>AWS Secret Access Key</em>. To obtain these, please do the following:</p>\n<ul>\n<li>Create an AWS account if you do not already have one. See <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/\" class=\"absolute\" target=\"_blank\" rel=\"noopener noreferrer\">instructions on this from AWS here</a>.</li>\n<li>Open the AWS console IAM management and sign in if required: <a href=\"https://console.aws.amazon.com/iam/home?region=us-east-1#/home\" class=\"absolute\" target=\"_blank\" rel=\"noopener noreferrer\">https://console.aws.amazon.com/iam/home?region=us-east-1#/home</a></li>\n<li>Click on <em>Users</em> in the menu on the right</li>\n</ul>\n<p><img src=\"https://cdn.goldstack.party/img/202010/add_user.png\" alt=\"Add User in AWS console\"></p>\n<ul>\n<li>Provide a username of your choice, for instance 'goldstack-local-dev'</li>\n<li>Select the Access Type <em>Programmatic Access</em></li>\n</ul>\n<p><img src=\"https://cdn.goldstack.party/img/202010/user_details.png\" alt=\"Provide user details\"></p>\n<ul>\n<li>Click on the button <em>Next: Permissions</em></li>\n<li>Select <em>Attach existing policies directly</em></li>\n<li>Select the Policy <em>Administrator Access</em></li>\n</ul>\n<p><img src=\"https://cdn.goldstack.party/img/202010/permissions.png\" alt=\"Select permissions\"></p>\n<ul>\n<li>Click on the button <em>Next: Tags</em></li>\n<li>You do not have to add any tags, just click <em>Next: Review</em></li>\n<li>On the review page click <em>Create User</em></li>\n</ul>\n<p>Now you can copy the <em>Access Key ID</em> and add it to the Goldstack configuration form. Do the same with the <em>Secret Access Key</em> (It can be shown by clicking on Show).</p>\n<p><img src=\"https://cdn.goldstack.party/img/202010/keys.png\" alt=\"Obtain access keys\"></p>\n<p>Note that it is recommended to only provide this key and secret for development systems (and prototype/hobby production systems). For all other systems, it is recommended to provide this key and secret only through environment variables (see below).</p></div><p></p>\n<p></p><div class=\"markdown-fragment\"><h3 class=\"heading\"><span id=\"credentials-in-config-file-1\"></span><a href=\"#credentials-in-config-file-1\"><span id=\"credentials-in-config-file\"></span><a href=\"#credentials-in-config-file\" class=\"relative\">Credentials in Config File</a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></h3>\n<p>AWS credentials can be configured during project set up. However if you do not want to provide your credentials in the configuration tool or you want to change them later, they can be configured through a configuration file. This file can be found under the following paths:</p>\n<pre class=\"language-bash language-bash\"><code class=\"language-bash\">config/infra/aws/config.json\n</code></pre>\n<p>The configuration file can have contents as follows:</p>\n<pre class=\"language-json language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"users\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dev-user\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"apiKey\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"awsAccessKeyId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[Your Access Key ID]\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"awsSecretAccessKey\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[Your Secret Access Key]\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"awsDefaultRegion\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[Region for user]\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"prod-user\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"apiKey\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"awsAccessKeyId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[Your Access Key ID]\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"awsSecretAccessKey\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[Your Secret Access Key]\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"awsDefaultRegion\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[Region for user]\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>Make sure that the <code class=\"inline\">\"name\"</code> property matches the <code class=\"inline\">\"awsUser\"</code> of module deployments for which the user should be used. There is no limit to how many users you can define.</p>\n<p>Note that we recommend that this file is <em>not</em> checked into source control. By default, there is a <code class=\"inline\">.gitignore</code> file present in the <code class=\"inline\">config/infra/aws</code> folder that will prevent this file from being checked into git.</p>\n<p>If you want to supply AWS user credentials in your CI/CD systems, these can be supplied using environment variables.</p></div><p></p>\n<p></p><div class=\"markdown-fragment\"><h3 class=\"heading\"><span id=\"credentials-in-environment-variables-1\"></span><a href=\"#credentials-in-environment-variables-1\"><span id=\"credentials-in-environment-variables\"></span><a href=\"#credentials-in-environment-variables\" class=\"relative\">Credentials in Environment Variables</a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></a><span class=\"permalink\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n  <g stroke-width=\"1\" fill=\"#000000\" stroke=\"#000000\">\n    <path fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698\"></path>\n    <path fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698\"></path>\n  </g>\n</svg></span></h3>\n<p>Goldstack can read AWS <em>Access Key ID</em> and <em>Secret Access Key</em> from environment variables. The easiest way is to set the following environment variables:</p>\n<pre class=\"language-bash language-bash\"><code class=\"language-bash\">AWS_USER_NAME: <span class=\"token punctuation\">[</span>Your user name<span class=\"token punctuation\">]</span>\nAWS_ACCESS_KEY_ID: <span class=\"token punctuation\">[</span>Your access key id<span class=\"token punctuation\">]</span>\nAWS_SECRET_ACCESS_KEY: <span class=\"token punctuation\">[</span>Your secret access key<span class=\"token punctuation\">]</span>\nAWS_DEFAULT_REGION: <span class=\"token punctuation\">[</span>User region<span class=\"token punctuation\">]</span>\n</code></pre>\n<p>The <code class=\"inline\">AWS_USER_NAME</code> variable is optional but can be useful for explicitly referencing the correct Goldstack user in deployments. The above setup is particularly useful for CI/CD environments. For instance, when using <a href=\"https://github.com/actions\" class=\"absolute\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Actions</a>, environment variables could be configured as follows:</p>\n<pre class=\"language-yaml language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy UI\n  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n    yarn workspace my-ui deploy dev</span>\n  <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">AWS_USER_NAME</span><span class=\"token punctuation\">:</span> dev<span class=\"token punctuation\">-</span>user\n    <span class=\"token key atrule\">AWS_ACCESS_KEY_ID</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.AWS_ACCESS_KEY_ID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">AWS_SECRET_ACCESS_KEY</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.AWS_SECRET_ACCESS_KEY<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">AWS_DEFAULT_REGION</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n</code></pre>\n<p>Where the values of the environment variables are defined in <a href=\"https://docs.github.com/en/free-pro-team@latest/actions/reference/encrypted-secrets\" class=\"absolute\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Secrets</a>.</p></div><p></p>",
  "data": {
    "id": "docs-configuration",
    "title": "Configuration"
  }
}